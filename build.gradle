plugins {
    id 'scala'
}

repositories {
    mavenCentral()
}

ext {
    set('scalaVersion', '2.12')
    set('scalaLibVersion', '2.12.15')
    set('scalaXmlVersion', '2.0.1')
    set('scalaTestVersion', '3.2.9')
    set('scalaTestPlusVersion', '3.2.2.0')
    set('scalaMockitoVersion', '1.16.46')
    set('junitVersion', '4.13.2')
    set('sparkVersion', '3.1.2')
}

dependencies {
    implementation("org.scala-lang:scala-library:${scalaLibVersion}")

    implementation("org.apache.spark:spark-core_${scalaVersion}:${sparkVersion}")
    implementation("org.apache.spark:spark-sql_${scalaVersion}:${sparkVersion}")

    testImplementation("junit:junit:${junitVersion}")
    testImplementation("org.scalatest:scalatest_${scalaVersion}:${scalaTestVersion}")
    testImplementation("org.scalatestplus:junit-4-13_${scalaVersion}:${scalaTestPlusVersion}")
    testImplementation("org.mockito:mockito-scala_${scalaVersion}:${scalaMockitoVersion}")

    testRuntimeOnly("org.scala-lang.modules:scala-xml_${scalaVersion}:${scalaXmlVersion}")
}

jar {
    manifest {
        attributes 'Main-Class': 'com.quadrantio.assignment.DeAssignmentApplication'
    }
}
